!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/bundles/heimrichhannotautocompletejs/assets/",n(n.s="+NVk")}({"+NVk":function(e,t,n){"use strict";n.r(t),n.d(t,"AutocompletejsBundle",(function(){return r}));var o=n("KDup");function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"init",value:function(){var t=document.querySelectorAll("input[data-autocompletejs='1']");0!==t.length&&t.forEach((function(t){var n=JSON.parse(t.dataset.autocompletejsOptions);if(n.threshold=n.threshold-1,n.resultsList={render:!0,container:function(e){e.setAttribute("id","autocomplete_"+t.id),e.setAttribute("class","autocomplete_results_container")},position:"afterend",element:"ul"},n.resultItem={element:"li",content:function(e,t){t.innerHTML=e.match,document.dispatchEvent(new CustomEvent("huh.autocompletejs.adjust_result_item",{bubbles:!0,cancelable:!0,detail:{source:t,data:e}}))}},n.onSelection=function(e){var n=e.selection.value;e.selection.key&&(n=e.selection.value[e.selection.key]),document.querySelector("#"+t.id).value=n,document.dispatchEvent(new CustomEvent("huh.autocompletejs.onselection",{bubbles:!0,cancelable:!0,detail:{field:t,item:e}}))},!Array.isArray(n.data.src)&&"function"===n.data.type){if(!n.data.url)return{};var i={};n.data.src=function(){var o=document.querySelector("#"+t.id).value;return o.length<=n.threshold?[]:(e.getData(n.data.url.replace("{query}",o),(function(e,t){if(e)return e;i=JSON.parse(t)})),i)}}new o(n),t.addEventListener("focus",(function(e){document.querySelector("#autocomplete_"+t.id).classList.add("show")})),t.addEventListener("blur",(function(e){document.querySelector("#autocomplete_"+t.id).classList.remove("show")}))}))}},{key:"getData",value:function(e,t){var n=new XMLHttpRequest;n.open("GET",encodeURI(e),!1),n.onload=function(){200===n.status?t(null,n.response):t(n.status,n.response)},n.send()}}],(n=null)&&i(t.prototype,n),r&&i(t,r),e}()},KDup:function(e,t,n){var o;o=function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function t(e){return e.innerHTML=""}function n(e,n,o,r,u,s){r({event:e,query:n instanceof HTMLInputElement?n.value:n.innerHTML,matches:u.matches,results:u.list.map((function(e){return e.value})),selection:u.list.find((function(t){return e.keyCode===a?t.index===Number(s.getAttribute(i)):"mousedown"===e.type?t.index===Number(e.currentTarget.getAttribute(i)):void 0}))}),t(o)}function o(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}var i="data-id",r="autoComplete_selected",a=13,u=function(e){return"string"==typeof e?document.querySelector(e):e()},s=function(e){var t=document.createElement(e.element);return t.setAttribute("id","autoComplete_list"),e.container&&e.container(t),e.destination.insertAdjacentElement(e.position,t),t},l=function(e){return"<span class=".concat("autoComplete_highlighted",">").concat(e,"</span>")},c=function(e,t,n){var o=document.createDocumentFragment();t.forEach((function(e,r){var a=document.createElement(n.element),u=t[r].index;a.setAttribute(i,u),a.setAttribute("class","autoComplete_result"),n.content?n.content(e,a):a.innerHTML=e.match||e,o.appendChild(a)})),e.appendChild(o)},d=t;o.prototype=window.Event.prototype;var f={CustomEventWrapper:"function"==typeof window.CustomEvent&&window.CustomEvent||o,initElementClosestPolyfill:function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null})}};return function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e.selector,o=void 0===n?"#autoComplete":n,i=e.data,r=i.key,a=i.src,l=i.cache,c=void 0===l||l,d=e.query,f=e.trigger,h=(f=void 0===f?{}:f).event,v=void 0===h?["input"]:h,p=f.condition,m=void 0!==p&&p,y=e.searchEngine,g=void 0===y?"strict":y,b=e.threshold,E=void 0===b?0:b,w=e.debounce,S=void 0===w?0:w,L=e.resultsList,C=(L=void 0===L?{}:L).render,k=void 0!==C&&C,x=L.container,j=void 0!==x&&x,q=L.destination,M=L.position,T=void 0===M?"afterend":M,_=L.element,A=void 0===_?"ul":_,R=L.navigation,H=void 0!==R&&R,O=e.sort,P=void 0!==O&&O,N=e.placeHolder,I=e.maxResults,D=void 0===I?5:I,V=e.resultItem,J=(V=void 0===V?{}:V).content,K=void 0!==J&&J,W=V.element,B=void 0===W?"li":W,F=e.noResults,G=e.highlight,U=void 0!==G&&G,X=e.onSelection,z=k?s({container:j,destination:q||u(o),position:T,element:A}):null;this.selector=o,this.data={src:function(){return"function"==typeof a?a():a},key:r,cache:c},this.query=d,this.trigger={event:v,condition:m},this.searchEngine="loose"===g?"loose":"function"==typeof g?g:"strict",this.threshold=E,this.debounce=S,this.resultsList={render:k,view:z,navigation:H},this.sort=P,this.placeHolder=N,this.maxResults=D,this.resultItem={content:K,element:B},this.noResults=F,this.highlight=U,this.onSelection=X,this.init()}return function(t,n,o){n&&e(t.prototype,n)}(t,[{key:"search",value:function(e,t){var n=t.toLowerCase();if("loose"===this.searchEngine){e=e.replace(/ /g,"");for(var o=[],i=0,r=0;r<n.length;r++){var a=t[r];i<e.length&&n[r]===e[i]&&(a=this.highlight?l(a):a,i++),o.push(a)}return i===e.length&&o.join("")}if(n.includes(e))return e=new RegExp("".concat(e),"i").exec(t),this.highlight?t.replace(e,l(e)):t}},{key:"listMatchedResults",value:function(e){var t=this;return new Promise((function(n){var o=[];e.filter((function(e,n){function i(i){var r=i?e[i]:e;if(r){var a="function"==typeof t.searchEngine?t.searchEngine(t.queryValue,r):t.search(t.queryValue,r);a&&i?o.push({key:i,index:n,match:a,value:e}):a&&!i&&o.push({index:n,match:a,value:e})}}if(t.data.key){var r=!0,a=!1,u=void 0;try{for(var s,l=t.data.key[Symbol.iterator]();!(r=(s=l.next()).done);r=!0)i(s.value)}catch(i){a=!0,u=i}finally{try{r||null==l.return||l.return()}finally{if(a)throw u}}}else i()}));var i=t.sort?o.sort(t.sort).slice(0,t.maxResults):o.slice(0,t.maxResults);return n({matches:o.length,list:i})}))}},{key:"ignite",value:function(){var e=this,t=u(this.selector);function o(o){Promise.resolve(e.data.cache?e.dataStream:e.data.src()).then((function(i){e.dataStream=i,function(o){function i(e,n){t.dispatchEvent(new f.CustomEventWrapper("autoComplete",{bubbles:!0,detail:{event:e,input:u,query:s,matches:n?n.matches:null,results:n?n.list:null},cancelable:!0}))}var u=t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement?t.value.toLowerCase():t.innerHTML.toLowerCase(),s=e.queryValue=e.query&&e.query.manipulate?e.query.manipulate(u):u,l=e.resultsList.render,h=e.trigger.condition?e.trigger.condition(s):s.length>e.threshold&&s.replace(/ /g,"").length;if(l){var v=e.resultsList.view;d(v),h?e.listMatchedResults(e.dataStream,o).then((function(u){i(o,u),e.resultsList.render&&(0===u.list.length&&e.noResults?e.noResults():(c(v,u.list,e.resultItem),e.onSelection&&(e.resultsList.navigation?e.resultsList.navigation(o,t,v,e.onSelection,u):function(e,t,o,i){function u(e){f.classList.remove(r),l=1===e?f.nextSibling:f.previousSibling}function s(e){(f=e).classList.add(r)}var l,c=t.childNodes,d=c.length-1,f=void 0;e.onkeydown=function(r){if(0<c.length)switch(r.keyCode){case 38:f?(u(0),s(l||c[d])):s(c[d]);break;case 40:f?(u(1),s(l||c[0])):s(c[0]);break;case a:f&&n(r,e,t,o,i,f)}},c.forEach((function(r){r.onmousedown=function(r){return n(r,e,t,o,i)}}))}(t,v,e.onSelection,u))))})):i(o)}else!l&&h&&e.listMatchedResults(e.dataStream,o).then((function(e){i(o,e)}))}(o)}))}this.placeHolder&&t.setAttribute("placeholder",this.placeHolder),this.trigger.event.forEach((function(n){t.addEventListener(n,function(e,t){var n;return function(){var o=this,i=arguments;clearTimeout(n),n=setTimeout((function(){return e.apply(o,i)}),t)}}((function(e){return o(e)}),e.debounce))}))}},{key:"init",value:function(){var e=this;this.data.cache?Promise.resolve(this.data.src()).then((function(t){e.dataStream=t,e.ignite()})):this.ignite(),f.initElementClosestPolyfill()}}]),t}()},e.exports=o()}});